<div class="jumbotron">
  <h1>Proyecto final</h1>

<form>
	<div class="form-group" id="block_medios">
		<fieldset>
			<legend>
				<!-- <input type="checkbox" id="allMedios" value="" name="medios" checklist-value="medios"> -->
				Listado de medios a visualizar
			</legend>
			<div class="row col">
				<div class="checkbox">
					<label>
						<!-- <input type="checkbox" name="bacon" checklist-value="bacon" ng-model="checked" class="ng-scope ng-pristine ng-untouched ng-valid ng-empty" checklist-model="inputIngredientes"> -->
						<input type="checkbox" name="medios" value="El País" ng-change="loadMedios()" ng-model="medios['El País']">
						El País 
					</label>
				</div>
				<div class="checkbox">
					<label>
						<input type="checkbox" name="medios" value="ABC" ng-change="loadMedios()" ng-model="medios['ABC']">
						ABC
					</label>
				</div>
				<div class="checkbox">
					<label>
						<input type="checkbox" name="medios" value="El Mundo" ng-change="loadMedios()" ng-model="medios['El mundo']">
						El Mundo
					</label>
				</div>
				<!-- <div class="checkbox">
					<label>
						<input type="checkbox" ng-true-value="Marca" name="medios" checklist-value="medios" value="Marca">
						Marca
					</label>
				</div> -->
			</div>
		</fieldset>
	</div>
	
	<div class="form-group" id="block_secciones">
		<fieldset>
			<legend>
				<!-- <input type="checkbox" id="allSecciones" name="secciones" checklist-value="medios"> -->
				Listado de secciones a visualizar
			</legend>
			<div class="row col">
				<div class="checkbox">
					<label>
						<!-- <input type="checkbox" name="bacon" checklist-value="bacon" ng-model="checked" class="ng-scope ng-pristine ng-untouched ng-valid ng-empty" checklist-model="inputIngredientes"> -->
						<input type="checkbox" name="secciones" value="España" ng-change="loadSecciones()" ng-model="secciones['España']">
						España 
					</label>
				</div>
				<div class="checkbox">
					<label>
						<input type="checkbox" name="secciones" value="Internacional" ng-change="loadSecciones()" ng-model="secciones['Internacional']">
						Internacional
					</label>
				</div>
				<div class="checkbox">
					<label>
						<input type="checkbox" name="secciones" value="Cultura" ng-change="loadSecciones()" ng-model="secciones['Cultura']">
						Cultura
					</label>
				</div>
				<div class="checkbox">
					<label>
						<input type="checkbox" name="secciones" value="Deportes" ng-change="loadSecciones()" ng-model="secciones['Deportes']">
						Deportes
					</label>
				</div>
			</div>
		</fieldset>
	</div>

  	<p>
		<button type="button" class="btn btn-xs btn-success" ng-click="loadFeed($event)">Buscar</button><!-- ng-click="submitForm($event)" -->
	</p>

</form>
</div>

<!-- <p>Medios: {{listamedios}}</p>
<p>Secciones: {{listasecciones}}</p>
<p>Filtro: {{filtro}}</p>
<p>URLs: {{urls}}</p> -->

<!-- <div class="row marketing">
	<div class="row-fluid">
		<ul class="unstyled">
			<span class="badge badge-success" ng-show="allFeeds.length > 0">{{(allFeeds | filter:filterText).length}} Items</span>
			
			<li ng-repeat="feed in allFeeds">                    
				<h5><a href="{{feed.link}}">{{feed.title}}</a></h5>                                        
				<p class="text-left">{{feed.contentSnippet}}</p>                    
				<span class="small">{{feed.publishedDate}}</span>
			</li>                
		</ul>            
	</div>
</div>
 -->

<span class="badge badge-success" ng-show="allFeeds.length > 0">{{(allFeeds | filter:filterText).length}} Resultados</span>
<table class="table">
	<thead>
		<tr>
			<th>Título</th>
			<th>Autor</th>
			<th>Medio</th>
			<th>Sección</th>
			<!-- <th>Fecha</th> -->
			<th>Resumen</th>
			<th>Favoritos</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="feed in allFeeds">
			<td><a href="{{feed.link}}" TARGET="_blank">{{feed.title}}</a></td>
			<td>{{feed.author}}</td>
			<td>{{feed.medio}}</td>
			<td>{{feed.seccion}}</td>
			<!-- <td>{{feed.publishedDate | date:'yyyy-MM-dd HH:mm:ss'}}</td> -->
			<td>{{feed.contentSnippet}}</td>
			<td>
				<button type="button" class="btn btn-xs btn-favorites" title="Añadir a favoritos" ng-show="!isFavorite($index)" ng-click="addFavorite($index)" ><span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span></button>
				<button type="button" class="btn btn-xs btn-favorites" title="Eliminar de favoritos" ng-show="isFavorite($index)" ng-click="removeFavorite($index)" ><span class="glyphicon glyphicon-star" style="color: yellow;" aria-hidden="true"></span></button>
			</td>
		</tr>
	</tbody>
</table>

<script>
/* $('#allMedios, #allSecciones').on('change', function() {
console.log($(this).attr('id') + ' value of checked = "' + $(this).is(':checked') + '"');
	$(this).parents('div.form-group').find('input[type="checkbox"]').prop('checked',$(this).is(':checked'));
	
	// FIXME: Actualizar array javascript de secciones y medios
	
}) */

/*$('form').submit(function(e) {
console.log('== Método submit del form ejecutado ==');

})*/
</script>